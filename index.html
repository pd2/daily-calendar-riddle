<!DOCTYPE html>
<html>
    <head>
        <!-- for menu icons -->
        <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Sharp:opsz,wght,FILL,GRAD@48,400,0,0" />
        <!-- for clock font -->
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Bruno+Ace&family=Noto+Sans+Symbols+2&display=swap" rel="stylesheet">
        <!-- for check button wait animation -->
        <link href="https://cdn.jsdelivr.net/npm/boxicons@latest/css/boxicons.min.css" rel="stylesheet">
        <title>Daily Calendar Riddle</title>
        
        <!-- The website stylesheet -->
        <link rel="stylesheet" href="style.css" />
        <link rel="manifest" href="manifest.json" >
        <link rel="icon" href="assets/panchang_riddle.jpg" >
    
        <!-- The website JavaScript file -->
        <script src="script.js" defer></script>
    </head>
    <body>
        <noscript>
            <p>This online daily calendar riddle only works if Javascript is enabled in your web browser.</p>
            <p>Please see your web browser help to know how to enable Javascript</p>
        </noscript>
        <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.3/umd/popper.min.js" integrity="sha384-vFJXuSJphROIrBnz7yo7oB41mKfc8JzQZiCq4NCceLEaO4IHwicKwpJf9c9IpFgh" crossorigin="anonymous"></script>
        <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>

        <div class="navbar zmenu">
            <div class="navbar-left">
                <section class="dropdown-menu zmenu" id="dropdown-menu">
                    <button id="top-button" onclick="handleDropdownClicked(event)">
                        <img id="menu-img" src="https://olivierrt.pythonanywhere.com/dailycalendarpuzzle/menu_blueicon_160.png"/>
                    </button>
                    <section id="navigation-menu" class="navigation-menu">
                        <div id="main-menu" class="main-menu">
                            <div class="primary-menu zmenu-content">
                                <span class="material-symbols-sharp"> compress </span>
                                <select id="usedSide" name="side" >
                                    <option value="frosted" >Frosted</option>
                                    <option value="smooth" >Smooth</option>
                                    <option value="both" selected>Both</option>
                                </select>
                                <button onclick="handleMenuLabelClicked('share-menu')">
                                <span class="material-symbols-sharp"> share </span>
                                Share
                                </button>
                                <button onclick="clickOnFrostedColorPicker()">
                                    <span class="material-symbols-sharp"> format_color_fill </span>
                                    Frosted side
                                    <input id="frostedColor" style="display:none" type="color" name="frontColor" value="#6495ED" >
                                </button>
                                <button onclick="clickOnSmoothColorPicker()">
                                    <span class="material-symbols-sharp"> format_color_fill </span>
                                    Smooth side
                                    <input id="smoothColor" style="display:none" type="color" name="backColor" value="#0000FF">
                                </button>
                                <button onclick="resetBtnAction()">
                                <span class="material-symbols-sharp"> delete </span>
                                Reset
                                </button>
                                <button id="helpButton" onclick="handleMenuLabelClicked('help-menu')">
                                    <span class="material-symbols-sharp"> help </span>
                                    Help
                                    </button>
                            </div>
                            <section id="share-menu" class="secondary-menu zsubmenu">
                                <div id="share-menu-background" class="zsubmenu" onclick="handleMenuLabelClicked()">
                                </div>
                                <input type="text" id="shareUrlInput" class="zsubmenu-content" readonly>
                                <button id="shareCopyButton" class="zsubmenu-content" onclick="copyUrl()" >Copy</button>
                               <div id="shareMessage" class="zsubmenu-content"></div>
                            </section>
                            <section id="help-menu" class="secondary-menu zsubmenu" onclick="handleMenuLabelClicked()">
                                <p id="help-menu-text" class="zsubmenu-content">Click on pieces to rotate them.<br>
                                Long press on pieces to flip them upside down.<br>
                                Symetrical pieces cannot be rotated in all 4 directions.</p>
                            </section>
                        </div>
                    </section>
                </section>

                <form class="puzzleForm">
                    <input id="dateToSolve" type="date" name="date" value="2022-09-01" onChange="dateChanged(this.value);">
                </form>
                </div>
            <div class="navbar-right">
                <div class="clockContainer">
                    <div class="clockDisplay">
                        <span id="clockHours" class="clockDisplay"></span>:<span id="clockMinutes" class="clockDisplay"></span>:<span id="clockSeconds" class="clockDisplay"></span>
                    </div>
                </div>
                <button id="clockButton" style="background: transparent;">
                    <img id="clockButtonImg" src="https://olivierrt.pythonanywhere.com/dailycalendarpuzzle/pause_blueicon_160.png"/>
                </button>
            </div>
        </div>

        <div id="menuOverlay" class="zoverlay" onclick="handleDropdownClicked(event)">
        </div><!-- menuOverlay -->

        <div class="puzzle zback" id="puzzleContainer">
        <svg xmlns="http://www.w3.org/2000/svg"  onload="makeDraggable(evt)" preserveAspectRatio="xMidYMin meet" class="svg-content" viewBox="0 0 1100 1100" id="puzzle">

        <rect x="300" y="200" width="100" height="100" fill="#D0D0D0" id="monthSquare"/>
        <rect x="100" y="300" width="100" height="100" fill="#D0D0D0" id="daySquare"/>
        <rect x="500" y="800" width="100" height="100" fill="#D0D0D0" id="weekdaySquare"/>
          
        <polygon points="100,100 700,100 700,300 800,300 800,800 400,800 400,900 100,900" fill="white"  fill-opacity=0 stroke="black" stroke-width="5" id="puzzleBorder" />
          
        <line x1="100" y1="200" x2="700" y2="200" stroke="black" />
        <line x1="100" y1="300" x2="700" y2="300" stroke="black" />
        <line x1="100" y1="400" x2="800" y2="400" stroke="black" />
        <line x1="100" y1="500" x2="800" y2="500" stroke="black" />
        <line x1="100" y1="600" x2="800" y2="600" stroke="black" />
        <line x1="100" y1="700" x2="800" y2="700" stroke="black" />
        <line x1="100" y1="800" x2="400" y2="800" stroke="black" />
        <line x1="200" y1="100" x2="200" y2="900" stroke="black" />
        <line x1="300" y1="100" x2="300" y2="900" stroke="black" />
        <line x1="400" y1="100" x2="400" y2="800" stroke="black" />
        <line x1="500" y1="100" x2="500" y2="800" stroke="black" />
        <line x1="600" y1="100" x2="600" y2="800" stroke="black" />
        <line x1="700" y1="300" x2="700" y2="800" stroke="black" />
          
        <text x="120" y="160" class="puzzleCell">Jan</text>
        <text x="220" y="160" class="puzzleCell">Feb</text>
        <text x="320" y="160" class="puzzleCell">Mar</text>
        <text x="420" y="160" class="puzzleCell">Apr</text>
        <text x="520" y="160" class="puzzleCell">May</text>
        <text x="620" y="160" class="puzzleCell">Jun</text>

        <text x="125" y="260" class="puzzleCell">Jul</text>
        <text x="220" y="260" class="puzzleCell">Aug</text>
        <text x="320" y="260" class="puzzleCell">Sept</text>
        <text x="420" y="260" class="puzzleCell">Oct</text>
        <text x="520" y="260" class="puzzleCell">Nov</text>
        <text x="620" y="260" class="puzzleCell">Dec</text>

        <text x="130" y="360" class="puzzleCell">Sun</text>
        <text x="220" y="360" class="puzzleCell">Mon</text>
        <text x="330" y="360" class="puzzleCell">Tue</text>
        <text x="420" y="360" class="puzzleCell">Wed</text>
        <text x="530" y="360" class="puzzleCell">Thu</text>
        <text x="630" y="360" class="puzzleCell">Fri</text>
        <text x="730" y="360" class="puzzleCell">Sat</text>
          
        <text x="140" y="460" class="puzzleCell">1</text>
        <text x="240" y="460" class="puzzleCell">2</text>
        <text x="340" y="460" class="puzzleCell">3</text>
        <text x="440" y="460" class="puzzleCell">4</text>
        <text x="540" y="460" class="puzzleCell">5</text>
        <text x="640" y="460" class="puzzleCell">6</text>
        <text x="740" y="460" class="puzzleCell">7</text>

        <text x="140" y="560" class="puzzleCell">8</text>
        <text x="240" y="560" class="puzzleCell">9</text>
        <text x="330" y="560" class="puzzleCell">10</text>
        <text x="430" y="560" class="puzzleCell">11</text>
        <text x="530" y="560" class="puzzleCell">12</text>
        <text x="630" y="560" class="puzzleCell">13</text>
        <text x="730" y="560" class="puzzleCell">14</text>

        <text x="130" y="660" class="puzzleCell">15</text>
        <text x="230" y="660" class="puzzleCell">16</text>
        <text x="330" y="660" class="puzzleCell">17</text>
        <text x="430" y="660" class="puzzleCell">18</text>
        <text x="530" y="660" class="puzzleCell">19</text>
        <text x="630" y="660" class="puzzleCell">20</text>
        <text x="730" y="660" class="puzzleCell">21</text>

        <text x="130" y="760" class="puzzleCell">22</text>
        <text x="230" y="760" class="puzzleCell">23</text>
        <text x="330" y="760" class="puzzleCell">24</text>
        <text x="430" y="760" class="puzzleCell">25</text>
        <text x="530" y="760" class="puzzleCell">26</text>
        <text x="630" y="760" class="puzzleCell">27</text>
        <text x="730" y="760" class="puzzleCell">28</text>

        <text x="130" y="860" class="puzzleCell">29</text>
        <text x="230" y="860" class="puzzleCell">30</text>
        <text x="330" y="860" class="puzzleCell">31</text>
        <polygon class="draggable confine front" points="0,0 0,100 100,100 100,300 200,300 200,100 300,100 300,0" fill="#6495ED" stroke="black" stroke-width="5" id="Tpcs" />
        <polygon class="draggable confine" points="0,0 100,0 100,100 300,100 300,200 0,200" fill="#6495ED" stroke="black" stroke-width="5" id="sLpcs" />
        <polygon class="draggable confine" points="0,0 0,200 400,200 400,100 100,100 100,0" fill="#6495ED" stroke="black" stroke-width="5" id="bLpcs" />
        <polygon class="draggable confine front" points="0,0 0,100 100,100 100,200 200,200 200,300 300,300 300,100 200,100 200,0" fill="#6495ED" stroke="black" stroke-width="5" id="lSpcs" />
        <polygon class="draggable confine front" points="0,0 0,200 300,200 300,0 200,0 200,100 100,100 100,0" fill="#6495ED" stroke="black" stroke-width="5" id="Cpcs" />
        <polygon class="draggable confine front sym" points="0,0 0,400 100,400 100,0" fill="#6495ED" stroke="black" stroke-width="5" id="Ipcs" />
        <polygon class="draggable confine front" points="0,0 0,300 300,300 300,200 100,200 100,0" fill="#6495ED" stroke="black" stroke-width="5" id="eLpcs" />
        <polygon class="draggable confine sym" points="0,0 100,0 100,100 200,100 200,300 100,300 100,200 0,200" fill="#6495ED" stroke="black" stroke-width="5" id="sSpcs" />
        <polygon class="draggable confine sym" points="0,0 200,0 200,200 300,200 300,300 100,300 100,100 0,100" fill="#6495ED" stroke="black" stroke-width="5" id="bSpcs" />
        <polygon class="draggable confine front sym" points="100,0 100,100 0,100 0,200 100,200 100,300 200,300 200,200 300,200 300,100 200,100 200,0" fill="#6495ED" stroke="black" stroke-width="5" id="Qpcs" style="fill: rgb(100, 149, 237); stroke: black;" transform="translate(0 200) scale(1 1) rotate(0)"></polygon>

        </svg>
        </div><!-- puzzle -->

        <div class="bottom">
            <div class="bottomElement">
                <button id="check" class="bottomButton" onclick="checkSol()">Check</button>
            </div>
            <div id="chkResult" class="bottomElement nbSols" style="background-color:white">
                <p id="chkrep"></p>
            </div>
            <div class="bottomElement">
                <button id="solve" class="bottomButton" onclick="showSolution()">Solution</button>
            </div>
        </div>
    <script>
      if ("serviceWorker" in navigator) {
        window.addEventListener("load", function() {
          navigator.serviceWorker
            .register("serviceWorker.js")
            .then(res => console.log("service worker registered"))
            .catch(err => console.log("service worker not registered", err))
        })
      }
    </script>
  </body>
  <footer>
    <span style="white-space: nowrap"> &copy; 2025 <a href="https://www.pradeepd.com/hobbies/apps">Pradeep D</a>, <a href="https://www.iseek.page">iSeek</a>. Courtesy: Oliverrt </span>
    <br> <a href="https://www.buymeacoffee.com/pradeepde">Buy me a coffee</a>
  </footer>
</html>
